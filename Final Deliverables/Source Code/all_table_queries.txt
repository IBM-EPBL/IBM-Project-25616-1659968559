CREATE TABLE USERS(
	email VARCHAR(30) NOT NULL,
	username VARCHAR(30) NOT NULL,
	password VARCHAR(30) NOT NULL,
	PRIMARY KEY(username)
);

CREATE TABLE PRODUCTS(
	productid VARCHAR(30) NOT NULL,
	productname VARCHAR(30) NOT NULL,
	PRIMARY KEY(productid)
);

CREATE TABLE USERPRODUCTS(
	productid VARCHAR(30) NOT NULL,
	username VARCHAR(30) NOT NULL,
	availablestock INT NOT NULL,
	unitprice INT NOT NULL
);

ALTER TABLE USERPRODUCTS
   ADD CONSTRAINT PRODUCTID FOREIGN 
   KEY (PRODUCTID) REFERENCES PRODUCTS
   ON DELETE CASCADE;

ALTER TABLE USERPRODUCTS
   ADD CONSTRAINT USERNAME FOREIGN 
   KEY (USERNAME) REFERENCES USERS
   ON DELETE CASCADE;

CREATE TABLE THRESHOLD_VALUE(
	email VARCHAR(30) NOT NULL,
	th_value FLOAT NOT NULL,
	PRIMARY KEY(email)
);
-------------------------------------------------------------------------------------------------------------------
SELECT up.productid,p.productname,up.availablestock FROM products p, users u, userproducts up 
WHERE u.username=up.username AND p.productid=up.productid AND u.username='Sivaraman';

